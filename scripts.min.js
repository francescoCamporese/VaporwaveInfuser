function selectBg(e){var t=document.getElementById("bgSrc");if(t.getAttribute("src").localeCompare("static/bg/"+e+".mp4")){var n=document.getElementById("bgSrc").src,i=n.substring(n.lastIndexOf("/")+1,n.lastIndexOf(".")),a=document.getElementById("icobg"+i);a.src="static/img/98pc24dp.webp";var r=document.getElementById("icobg"+e);r.src="static/img/gbasp24dp.webp";var s=document.getElementById("bgVid");t.src="static/bg/"+e+".mp4",s.load(),s.play()}}function hideUi(){var e=document.getElementById("playerDiv"),t=document.getElementById("bgDiv"),n=document.getElementById("aboutBtn"),i=document.getElementById("castBtn");e.hidden?(e.hidden=!1,t.hidden=!1,n.hidden=!1,i.hidden=!1):(e.hidden=!0,t.hidden=!0,n.hidden=!0,i.hidden=!0)}function GetAnswers(){var e=document.getElementById("title"),t=document.getElementById("artist"),n=document.getElementById("album");!currentSong||currentPosition>=currentSong.length?fetch(apiURL).then(e=>{if(e.ok)return e.json();throw new Error("Network response was not ok")}).then(i=>{const{artist:a,title:r,album:s,position:o,length:m,artwork_src:c}=i.song,d={artist:a,title:r,album:s,position:o,length:m,artwork_src:c};currentSong=d,currentPosition=d.position,e.innerHTML=d.title,t.innerHTML=d.artist,n.src=d.artwork_src,n.title="Album: "+d.album+" (click to play/pause)"}).catch(i=>{console.error(i),e.innerHTML="",t.innerHTML="",n.removeAttribute("src"),n.title="Album not found (click to play/pause)"}):currentPosition+=1}function playPauseFun(){var e=document.getElementById("music"),t=document.getElementById("album");e.paused?(e.play(),t.classList.add("playing"),t.classList.remove("paused")):(e.pause(),t.classList.add("paused"),t.classList.remove("playing"))}function resetTimer(){var e=document.getElementById("setTimerBtn");clearTimeout(timer),e.setAttribute("data-minutes","Set timer"),e.innerHTML='<img src="static/img/outline_timer_white_24dp.webp" width="24" height="24">Set timer'}function setTimer(){var e=document.getElementById("setTimerBtn"),t=e.getAttribute("data-minutes"),n=null;switch(t){case"Set timer":n="15min";break;case"15min":n="30min";break;case"30min":n="45min";break;case"45min":n="60min";break;case"60min":n="Set timer"}e.setAttribute("data-minutes",n),e.innerHTML='<img src="static/img/outline_timer_white_24dp.webp" width="24" height="24">'+n,clearTimeout(timer),"Set timer"!=n&&(timer=setTimeout(()=>{document.getElementById("music").pause(),resetTimer()},6e4*parseInt(n,10)))}function setVolume(e){var t=document.getElementById("music"),n=document.getElementById("volumeDownBtn"),i=document.getElementById("volumeUpBtn");switch(t.volume=(100*t.volume+e)/100,t.volume){case 0:n.disabled=!0;break;case 1:i.disabled=!0;break;default:n.disabled=!1,i.disabled=!1}}function whenPaused(){resetTimer(),setTimerBtn.disabled=!0}function whenPlayed(){setTimerBtn.disabled=!1}function animateTitle(){var e=document.getElementById("titleImg");for(let t=1;t<=3;++t)setTimeout(function(){e.style.visibility="hidden"},1e3*t-500),setTimeout(function(){e.style.visibility="visible"},1e3*t)}var timer;window.__onGCastApiAvailable=function(e){if(!e)return!1;var t=cast.framework.CastContext.getInstance();t.setOptions({autoJoinPolicy:chrome.cast.AutoJoinPolicy.ORIGIN_SCOPED,receiverApplicationId:chrome.cast.media.DEFAULT_MEDIA_RECEIVER_APP_ID});var n=cast.framework.CastContextEventType.CAST_STATE_CHANGED;t.addEventListener(n,function(e){var n=t.getCurrentSession(),i=new chrome.cast.media.MediaInfo(streamURL,"audio/mp3");i.metadata=new chrome.cast.media.MusicTrackMediaMetadata,i.metadata.title="Vaporwave Infuser",i.metadata.artist="Developed by Francesco Camporese",i.metadata.images=[{url:"https://vaporwaveinfuser.altervista.org/static/img/albumCover.webp"}];var a=new chrome.cast.media.LoadRequest(i);n&&n.loadMedia(a).then(function(){console.log("Media loaded successfully to Chromecast")}).catch(function(e){console.error("Error loading media to Chromecast: "+e)})})};let currentSong=null,currentPosition=0;const streamURL="https://radio.plaza.one/mp3",apiURL="proxy.php",interval=setInterval(GetAnswers,1e3);